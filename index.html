<!DOCTYPE html>
   <html lang="en">
   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>Comic Book Image Generator</title>
       <style>
           body { font-family: Arial, sans-serif; }
           #images { display: flex; flex-wrap: wrap; gap: 10px; }
           img { max-width: 200px; }
       </style>
   </head>
   <body>
       <h1>Comic Book Image Generator</h1>
       <form id="apiForm">
           <label for="openaiKey">OpenAI API Key:</label>
           <input type="text" id="openaiKey" required><br><br>

           <label for="togetherApiKey">Together AI API Key:</label>
           <input type="text" id="togetherApiKey" required><br><br>

           <label for="comicIdea">Comic Book Idea:</label>
           <input type="text" id="comicIdea" required><br><br>

           <button type="submit">Generate Images</button>
       </form>

       <div id="images"></div>

       <script>
           document.getElementById('apiForm').addEventListener('submit', async function(event) {
               event.preventDefault();

               const openaiKey = document.getElementById('openaiKey').value;
               const togetherApiKey = document.getElementById('togetherApiKey').value;
               const comicIdea = document.getElementById('comicIdea').value;

               const response = await fetch('https://comic-backend.priyanshideshpande19.workers.dev/', {
                   method: 'POST',
                   headers: { 'Content-Type': 'application/json' },
                   body: JSON.stringify({ openaiKey, togetherApiKey, comicIdea })
               });

               if (!response.ok) {
                   alert('Error: ' + await response.text());
                   return;
               }

               const images = await response.json();
               const imagesDiv = document.getElementById('images');
               imagesDiv.innerHTML = ''; // Clear previous images

               images.forEach(base64Image => {
                   const img = document.createElement('img');
                   img.src = 'data:image/png;base64,' + base64Image;
                   imagesDiv.appendChild(img);
               });
           });
       </script>
   </body>
   </html>